FROM alpine

# These might be useful for CI/CD
# ARG REACT_APP_BACKEND_ARG
# ARG REACT_APP_BACKEND_PORT_ARG
# ARG REACT_APP_BACKEND_PROTOCOL_ARG
# ARG PORT_ARG
# ENV REACT_APP_BACKEND=$REACT_APP_BACKEND_ARG
# ENV REACT_APP_BACKEND_PORT=$REACT_APP_BACKEND_PORT_ARG
# ENV REACT_APP_BACKEND_PROTOCOL=$REACT_APP_BACKEND_PROTOCOL_ARG
# ENV PORT=$PORT_ARG

RUN apk add nodejs yarn

WORKDIR /delay-frontend
COPY ./ /delay-frontend

EXPOSE 5000
CMD yarn install && cd /delay-frontend && yarn start